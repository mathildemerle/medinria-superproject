From cf689d7099b1cad888c43e86ad4324e8ed5805d4 Mon Sep 17 00:00:00 2001
From: mathildemerle <mathilde.merle@ihu-liryc.fr>
Date: Wed, 3 Oct 2018 16:42:59 +0200
Subject: [PATCH] patchName

---
 cmake/FindDTK.cmake.in | 2 --
 cmake/dtkUse.cmake.in  | 6 ++++++
 2 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/cmake/FindDTK.cmake.in b/cmake/FindDTK.cmake.in
index a85d218..3b2cc3a 100644
--- a/cmake/FindDTK.cmake.in
+++ b/cmake/FindDTK.cmake.in
@@ -29,8 +29,6 @@ set(dtk_CMAKE_DIRS   "@dtk_CMAKE_DIR@")
 
 set(dtk_USE_FILE "@dtk_USE_FILE@")
 
-set(DTK_LIBRARIES dtkMath dtkCore dtkGui dtkComposer)
-
 set(QT_QMAKE_EXECUTABLE "@QT_QMAKE_EXECUTABLE@")
 
 include(${dtk_USE_FILE})
diff --git a/cmake/dtkUse.cmake.in b/cmake/dtkUse.cmake.in
index 9843877..a2a2c35 100644
--- a/cmake/dtkUse.cmake.in
+++ b/cmake/dtkUse.cmake.in
@@ -31,4 +31,10 @@ if(NOT DTK_USE_FILE_INCLUDED)
    include(dtkBuild)
    include(dtkReporting)
 
+   set(DTK_LIBRARIES dtkMath dtkCore dtkGui dtkLog)
+
+   if(@DTK_BUILD_COMPOSER@)
+      set(DTK_LIBRARIES ${DTK_LIBRARIES} dtkComposer)
+   endif(@DTK_BUILD_COMPOSER@)
+
 endif(NOT DTK_USE_FILE_INCLUDED)
-- 
2.7.4

